{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\OneDrive\\\\Desktop\\\\New folder (5)\\\\wayslink\\\\client\\\\src\\\\components\\\\mylink\\\\UserLinks.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { BrowserRouter as Router, Route, Routes, Link } from \"react-router-dom\";\nimport styleCSS from './UserLinks.module.css';\nimport exampleImage from '../../assets/example.png';\nimport View from '../../assets/View.png';\nimport Edit from '../../assets/Edit.png';\nimport Delete from '../../assets/Delete.png';\nimport { API } from '../../config/api';\nimport { UserContext } from '../../context/userContext';\nimport DeleteData from '../modal/Deletemodal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserLinksContentPage = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [state, dispatch] = useContext(UserContext);\n  const [userLinks, setUserLinks] = useState([]);\n  let id = state.user.id; // Get all user links\n\n  const getLinks = async id => {\n    try {\n      const response = await API.get('/userLinks');\n      setUserLinks(response.data.shortUser);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getLinks(id);\n  }, []);\n  let total = userLinks.length; // Navigate according with item.uniqueLink to open the shortlink tab\n\n  const openLink = uniqueLink => {\n    navigate(window.open('/' + uniqueLink));\n  }; // Delete Data\n\n\n  const [uniqueLinkDelete, setUniqueLinkDelete] = useState(null);\n  const [confirmDelete, setConfirmDelete] = useState(null);\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleDelete = uniqueLink => {\n    setUniqueLinkDelete(uniqueLink);\n    handleShow();\n  };\n\n  const deleteByUniqueLink = async uniqueLink => {\n    try {\n      await API.delete(`/deleteLink/${uniqueLink}`);\n      getLinks();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleClose();\n    deleteByUniqueLink(uniqueLinkDelete);\n    setConfirmDelete(null);\n  }, [confirmDelete]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styleCSS.userLinksContent,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styleCSS.userLinksHeader,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"My Links\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styleCSS.formSearchLinks,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: styleCSS.allLinksText,\n        children: \"All Links\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styleCSS.totalLinksText,\n        children: total\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"findlink\",\n        className: styleCSS.findInput,\n        placeholder: \"Find Your Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styleCSS.buttonSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: userLinks === null || userLinks === void 0 ? void 0 : userLinks.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styleCSS.userLinksList,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image,\n          alt: \"link image\",\n          className: styleCSS.linksImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styleCSS.linksName,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: styleCSS.linkstitle,\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styleCSS.linksurl,\n            children: [\"localhost:3000/\", item.uniqueLink]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styleCSS.linksVisit,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: styleCSS.titleVisitCount,\n            children: item.visitTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styleCSS.titleVisit,\n            children: \"Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styleCSS.operationButton,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: View,\n            alt: \"View\",\n            onClick: () => openLink(item.uniqueLink)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Edit,\n            alt: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Delete,\n            alt: \"Delete\",\n            onClick: () => handleDelete(item.uniqueLink)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DeleteData, {\n      setConfirmDelete: setConfirmDelete,\n      show: show,\n      handleClose: handleClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserLinksContentPage, \"7wGSOuySzXqPxiPAGHIm2oczmow=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserLinksContentPage;\nexport default UserLinksContentPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserLinksContentPage\");","map":{"version":3,"sources":["C:/Users/Hp/OneDrive/Desktop/New folder (5)/wayslink/client/src/components/mylink/UserLinks.jsx"],"names":["React","useState","useEffect","useContext","useNavigate","BrowserRouter","Router","Route","Routes","Link","styleCSS","exampleImage","View","Edit","Delete","API","UserContext","DeleteData","UserLinksContentPage","navigate","state","dispatch","userLinks","setUserLinks","id","user","getLinks","response","get","data","shortUser","error","console","log","total","length","openLink","uniqueLink","window","open","uniqueLinkDelete","setUniqueLinkDelete","confirmDelete","setConfirmDelete","show","setShow","handleClose","handleShow","handleDelete","deleteByUniqueLink","delete","userLinksContent","userLinksHeader","formSearchLinks","allLinksText","totalLinksText","findInput","buttonSearch","map","item","index","userLinksList","image","linksImage","linksName","linkstitle","title","linksurl","linksVisit","titleVisitCount","visitTime","titleVisit","operationButton"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,EAAiDC,IAAjD,QAA6D,kBAA7D;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,GAAT,QAAoB,kBAApB;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,OAAOC,UAAP,MAAuB,sBAAvB;;;AAGA,MAAMC,oBAAoB,GAAG,MAAM;AAAA;;AAC/B,QAAMC,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBlB,UAAU,CAACa,WAAD,CAApC;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BtB,QAAQ,CAAC,EAAD,CAA1C;AACA,MAAIuB,EAAE,GAAGJ,KAAK,CAACK,IAAN,CAAWD,EAApB,CAJ+B,CAM/B;;AACA,QAAME,QAAQ,GAAG,MAAMF,EAAN,IAAa;AAC1B,QAAI;AACA,YAAMG,QAAQ,GAAG,MAAMZ,GAAG,CAACa,GAAJ,CAAQ,YAAR,CAAvB;AACAL,MAAAA,YAAY,CAACI,QAAQ,CAACE,IAAT,CAAcC,SAAf,CAAZ;AACH,KAHD,CAGE,OAAOC,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,GAPD;;AASA7B,EAAAA,SAAS,CAAC,MAAM;AACZwB,IAAAA,QAAQ,CAACF,EAAD,CAAR;AACH,GAFQ,EAEN,EAFM,CAAT;AAIA,MAAIU,KAAK,GAAGZ,SAAS,CAACa,MAAtB,CApB+B,CAsB/B;;AACA,QAAMC,QAAQ,GAAIC,UAAD,IAAgB;AAC7BlB,IAAAA,QAAQ,CAACmB,MAAM,CAACC,IAAP,CAAY,MAAMF,UAAlB,CAAD,CAAR;AACH,GAFD,CAvB+B,CA4B/B;;;AACA,QAAM,CAACG,gBAAD,EAAmBC,mBAAnB,IAA0CxC,QAAQ,CAAC,IAAD,CAAxD;AACA,QAAM,CAACyC,aAAD,EAAgBC,gBAAhB,IAAoC1C,QAAQ,CAAC,IAAD,CAAlD;AACA,QAAM,CAAC2C,IAAD,EAAOC,OAAP,IAAkB5C,QAAQ,CAAC,KAAD,CAAhC;;AACA,QAAM6C,WAAW,GAAG,MAAMD,OAAO,CAAC,KAAD,CAAjC;;AACA,QAAME,UAAU,GAAG,MAAMF,OAAO,CAAC,IAAD,CAAhC;;AAEA,QAAMG,YAAY,GAAIX,UAAD,IAAgB;AACjCI,IAAAA,mBAAmB,CAACJ,UAAD,CAAnB;AACAU,IAAAA,UAAU;AACb,GAHD;;AAIA,QAAME,kBAAkB,GAAG,MAAMZ,UAAN,IAAqB;AAC5C,QAAI;AACA,YAAMtB,GAAG,CAACmC,MAAJ,CAAY,eAAcb,UAAW,EAArC,CAAN;AACAX,MAAAA,QAAQ;AACX,KAHD,CAGE,OAAOK,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,GAPD;;AASA7B,EAAAA,SAAS,CAAC,MAAM;AACZ4C,IAAAA,WAAW;AACXG,IAAAA,kBAAkB,CAACT,gBAAD,CAAlB;AACAG,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACH,GAJQ,EAIN,CAACD,aAAD,CAJM,CAAT;AAMA,sBACI;AAAK,IAAA,SAAS,EAAEhC,QAAQ,CAACyC,gBAAzB;AAAA,4BACI;AAAK,MAAA,SAAS,EAAEzC,QAAQ,CAAC0C,eAAzB;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAK,MAAA,SAAS,EAAE1C,QAAQ,CAAC2C,eAAzB;AAAA,8BACI;AAAG,QAAA,SAAS,EAAE3C,QAAQ,CAAC4C,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAG,QAAA,SAAS,EAAE5C,QAAQ,CAAC6C,cAAvB;AAAA,kBAAwCrB;AAAxC;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,UAAxB;AAAmC,QAAA,SAAS,EAAExB,QAAQ,CAAC8C,SAAvD;AAAkE,QAAA,WAAW,EAAC;AAA9E;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAQ,QAAA,SAAS,EAAE9C,QAAQ,CAAC+C,YAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAUI;AAAA,gBACKnC,SADL,aACKA,SADL,uBACKA,SAAS,CAAEoC,GAAX,CAAe,CAACC,IAAD,EAAOC,KAAP,kBACZ;AAAK,QAAA,SAAS,EAAElD,QAAQ,CAACmD,aAAzB;AAAA,gCACI;AAAK,UAAA,GAAG,EAAEF,IAAI,CAACG,KAAf;AAAsB,UAAA,GAAG,EAAC,YAA1B;AAAuC,UAAA,SAAS,EAAEpD,QAAQ,CAACqD;AAA3D;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,SAAS,EAAErD,QAAQ,CAACsD,SAAzB;AAAA,kCACI;AAAG,YAAA,SAAS,EAAEtD,QAAQ,CAACuD,UAAvB;AAAA,sBAAoCN,IAAI,CAACO;AAAzC;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAG,YAAA,SAAS,EAAExD,QAAQ,CAACyD,QAAvB;AAAA,0CAAiDR,IAAI,CAACtB,UAAtD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAMI;AAAK,UAAA,SAAS,EAAE3B,QAAQ,CAAC0D,UAAzB;AAAA,kCACI;AAAG,YAAA,SAAS,EAAE1D,QAAQ,CAAC2D,eAAvB;AAAA,sBAAyCV,IAAI,CAACW;AAA9C;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAG,YAAA,SAAS,EAAE5D,QAAQ,CAAC6D,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,eAUI;AAAK,UAAA,SAAS,EAAE7D,QAAQ,CAAC8D,eAAzB;AAAA,kCACI;AAAK,YAAA,GAAG,EAAE5D,IAAV;AAAgB,YAAA,GAAG,EAAC,MAApB;AAA2B,YAAA,OAAO,EAAG,MAAMwB,QAAQ,CAACuB,IAAI,CAACtB,UAAN;AAAnD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,GAAG,EAAExB,IAAV;AAAgB,YAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAK,YAAA,GAAG,EAAEC,MAAV;AAAkB,YAAA,GAAG,EAAC,QAAtB;AAA+B,YAAA,OAAO,EAAE,MAAMkC,YAAY,CAACW,IAAI,CAACtB,UAAN;AAA1D;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ;AAAA,SAA6CuB,KAA7C;AAAA;AAAA;AAAA;AAAA,cADH;AADL;AAAA;AAAA;AAAA;AAAA,YAVJ,eA8BI,QAAC,UAAD;AAAY,MAAA,gBAAgB,EAAEjB,gBAA9B;AAAgD,MAAA,IAAI,EAAEC,IAAtD;AAA4D,MAAA,WAAW,EAAEE;AAAzE;AAAA;AAAA;AAAA;AAAA,YA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkCH,CAxFD;;GAAM5B,oB;UACed,W;;;KADfc,oB;AA0FN,eAAeA,oBAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { BrowserRouter as Router, Route, Routes, Link } from \"react-router-dom\"\r\nimport styleCSS from './UserLinks.module.css'\r\nimport exampleImage from '../../assets/example.png'\r\nimport View from '../../assets/View.png'\r\nimport Edit from '../../assets/Edit.png'\r\nimport Delete from '../../assets/Delete.png'\r\nimport { API } from '../../config/api'\r\nimport { UserContext } from '../../context/userContext'\r\nimport DeleteData from '../modal/Deletemodal'\r\n\r\n\r\nconst UserLinksContentPage = () => {\r\n    const navigate = useNavigate()\r\n    const [state, dispatch] = useContext(UserContext);\r\n    const [userLinks, setUserLinks] = useState([])\r\n    let id = state.user.id\r\n\r\n    // Get all user links\r\n    const getLinks = async(id) => {\r\n        try {\r\n            const response = await API.get('/userLinks')\r\n            setUserLinks(response.data.shortUser)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getLinks(id)\r\n    }, [])\r\n    \r\n    let total = userLinks.length\r\n\r\n    // Navigate according with item.uniqueLink to open the shortlink tab\r\n    const openLink = (uniqueLink) => {\r\n        navigate(window.open('/' + uniqueLink))\r\n    }\r\n\r\n\r\n    // Delete Data\r\n    const [uniqueLinkDelete, setUniqueLinkDelete] = useState(null)\r\n    const [confirmDelete, setConfirmDelete] = useState(null)\r\n    const [show, setShow] = useState(false)\r\n    const handleClose = () => setShow(false)\r\n    const handleShow = () => setShow(true)\r\n\r\n    const handleDelete = (uniqueLink) => {\r\n        setUniqueLinkDelete(uniqueLink)\r\n        handleShow()\r\n    }\r\n    const deleteByUniqueLink = async(uniqueLink) => {\r\n        try {\r\n            await API.delete(`/deleteLink/${uniqueLink}`)\r\n            getLinks()\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleClose()\r\n        deleteByUniqueLink(uniqueLinkDelete)\r\n        setConfirmDelete(null)\r\n    }, [confirmDelete])\r\n\r\n    return (\r\n        <div className={styleCSS.userLinksContent}>\r\n            <div className={styleCSS.userLinksHeader}>\r\n                <p>My Links</p>\r\n            </div>\r\n            <div className={styleCSS.formSearchLinks}>\r\n                <p className={styleCSS.allLinksText}>All Links</p>\r\n                <p className={styleCSS.totalLinksText}>{total}</p>\r\n                <input type=\"text\" name=\"findlink\" className={styleCSS.findInput} placeholder=\"Find Your Link\" />\r\n                <button className={styleCSS.buttonSearch}>Search</button>\r\n            </div>\r\n            <div>\r\n                {userLinks?.map((item, index) => (\r\n                    <div className={styleCSS.userLinksList} key={index}>\r\n                        <img src={item.image} alt=\"link image\" className={styleCSS.linksImage}/>\r\n                        <div className={styleCSS.linksName}>\r\n                            <p className={styleCSS.linkstitle}>{item.title}</p>\r\n                            <p className={styleCSS.linksurl}>localhost:3000/{item.uniqueLink}</p>\r\n                        </div>\r\n                        <div className={styleCSS.linksVisit}>\r\n                            <p className={styleCSS.titleVisitCount}>{item.visitTime}</p>\r\n                            <p className={styleCSS.titleVisit}>Visit</p>\r\n                        </div>\r\n                        <div className={styleCSS.operationButton}>\r\n                            <img src={View} alt=\"View\" onClick={ () => openLink(item.uniqueLink)} />\r\n                            <img src={Edit} alt=\"Edit\" />\r\n                            <img src={Delete} alt=\"Delete\" onClick={() => handleDelete(item.uniqueLink)}/>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <DeleteData setConfirmDelete={setConfirmDelete} show={show} handleClose={handleClose} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserLinksContentPage"]},"metadata":{},"sourceType":"module"}
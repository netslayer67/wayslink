{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\OneDrive\\\\Desktop\\\\New folder (5)\\\\wayslink\\\\client\\\\src\\\\components\\\\mylink\\\\UserLinks.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { BrowserRouter as Router, Route, Routes, Link } from \"react-router-dom\";\nimport styleCSS from \"./UserLinks.module.css\";\nimport exampleImage from \"../../assets/example.png\";\nimport View from \"../../assets/View.png\";\nimport Edit from \"../../assets/Edit.png\";\nimport Delete from \"../../assets/Delete.png\";\nimport { API } from \"../../config/api\";\nimport { UserContext } from \"../../context/userContext\";\nimport DeleteData from \"../modal/Deletemodal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserLinksContentPage = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [state, dispatch] = useContext(UserContext);\n  const [userLinks, setUserLinks] = useState([]);\n  let id = state.user.id; // Get all user links\n\n  const getLinks = async id => {\n    try {\n      const response = await API.get(\"/links\");\n      setUserLinks(response.data.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getLinks(id);\n  }, []);\n  let total = userLinks.length; // Navigate according with item.uniqueLink to open the shortlink tab\n\n  const openLink = uniqueLink => {\n    navigate(window.open(\"/\" + uniqueLink));\n  }; // Delete Data\n\n\n  const [uniqueLinkDelete, setUniqueLinkDelete] = useState(null);\n  const [confirmDelete, setConfirmDelete] = useState(null);\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleDelete = uniqueLink => {\n    setUniqueLinkDelete(uniqueLink);\n    handleShow();\n  };\n\n  const deleteByUniqueLink = async uniqueLink => {\n    try {\n      await API.delete(`/deleteLink/${uniqueLink}`);\n      getLinks();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleClose();\n    deleteByUniqueLink(uniqueLinkDelete);\n    setConfirmDelete(null);\n  }, [confirmDelete]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styleCSS.userLinksContent,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styleCSS.userLinksHeader,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"My Links\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styleCSS.formSearchLinks,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: styleCSS.allLinksText,\n        children: \"All Links\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styleCSS.totalLinksText,\n        children: total\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"findlink\",\n        className: styleCSS.findInput,\n        placeholder: \"Find Your Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styleCSS.buttonSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: userLinks === null || userLinks === void 0 ? void 0 : userLinks.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styleCSS.userLinksList,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image,\n          alt: \"link image\",\n          className: styleCSS.linksImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styleCSS.linksName,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: styleCSS.linkstitle,\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styleCSS.linksurl,\n            children: [\"localhost:3000/\", item.uniqueLink]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styleCSS.linksVisit,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: styleCSS.titleVisitCount,\n            children: item.visitTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styleCSS.titleVisit,\n            children: \"Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styleCSS.operationButton,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: View,\n            alt: \"View\",\n            onClick: () => openLink(item.uniqueLink)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Edit,\n            alt: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Delete,\n            alt: \"Delete\",\n            onClick: () => handleDelete(item.uniqueLink)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteData, {\n      setConfirmDelete: setConfirmDelete,\n      show: show,\n      handleClose: handleClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserLinksContentPage, \"7wGSOuySzXqPxiPAGHIm2oczmow=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserLinksContentPage;\nexport default UserLinksContentPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserLinksContentPage\");","map":{"version":3,"sources":["C:/Users/Hp/OneDrive/Desktop/New folder (5)/wayslink/client/src/components/mylink/UserLinks.jsx"],"names":["React","useState","useEffect","useContext","useNavigate","BrowserRouter","Router","Route","Routes","Link","styleCSS","exampleImage","View","Edit","Delete","API","UserContext","DeleteData","UserLinksContentPage","navigate","state","dispatch","userLinks","setUserLinks","id","user","getLinks","response","get","data","error","console","log","total","length","openLink","uniqueLink","window","open","uniqueLinkDelete","setUniqueLinkDelete","confirmDelete","setConfirmDelete","show","setShow","handleClose","handleShow","handleDelete","deleteByUniqueLink","delete","userLinksContent","userLinksHeader","formSearchLinks","allLinksText","totalLinksText","findInput","buttonSearch","map","item","index","userLinksList","image","linksImage","linksName","linkstitle","title","linksurl","linksVisit","titleVisitCount","visitTime","titleVisit","operationButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { BrowserRouter as Router, Route, Routes, Link } from \"react-router-dom\";\r\nimport styleCSS from \"./UserLinks.module.css\";\r\nimport exampleImage from \"../../assets/example.png\";\r\nimport View from \"../../assets/View.png\";\r\nimport Edit from \"../../assets/Edit.png\";\r\nimport Delete from \"../../assets/Delete.png\";\r\nimport { API } from \"../../config/api\";\r\nimport { UserContext } from \"../../context/userContext\";\r\nimport DeleteData from \"../modal/Deletemodal\";\r\n\r\nconst UserLinksContentPage = () => {\r\n  const navigate = useNavigate();\r\n  const [state, dispatch] = useContext(UserContext);\r\n  const [userLinks, setUserLinks] = useState([]);\r\n  let id = state.user.id;\r\n\r\n  // Get all user links\r\n  const getLinks = async (id) => {\r\n    try {\r\n      const response = await API.get(\"/links\");\r\n      setUserLinks(response.data.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getLinks(id);\r\n  }, []);\r\n\r\n  let total = userLinks.length;\r\n\r\n  // Navigate according with item.uniqueLink to open the shortlink tab\r\n  const openLink = (uniqueLink) => {\r\n    navigate(window.open(\"/\" + uniqueLink));\r\n  };\r\n\r\n  // Delete Data\r\n  const [uniqueLinkDelete, setUniqueLinkDelete] = useState(null);\r\n  const [confirmDelete, setConfirmDelete] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const handleDelete = (uniqueLink) => {\r\n    setUniqueLinkDelete(uniqueLink);\r\n    handleShow();\r\n  };\r\n  const deleteByUniqueLink = async (uniqueLink) => {\r\n    try {\r\n      await API.delete(`/deleteLink/${uniqueLink}`);\r\n      getLinks();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleClose();\r\n    deleteByUniqueLink(uniqueLinkDelete);\r\n    setConfirmDelete(null);\r\n  }, [confirmDelete]);\r\n\r\n  return (\r\n    <div className={styleCSS.userLinksContent}>\r\n      <div className={styleCSS.userLinksHeader}>\r\n        <p>My Links</p>\r\n      </div>\r\n      <div className={styleCSS.formSearchLinks}>\r\n        <p className={styleCSS.allLinksText}>All Links</p>\r\n        <p className={styleCSS.totalLinksText}>{total}</p>\r\n        <input\r\n          type=\"text\"\r\n          name=\"findlink\"\r\n          className={styleCSS.findInput}\r\n          placeholder=\"Find Your Link\"\r\n        />\r\n        <button className={styleCSS.buttonSearch}>Search</button>\r\n      </div>\r\n      <div>\r\n        {userLinks?.map((item, index) => (\r\n          <div className={styleCSS.userLinksList} key={index}>\r\n            <img\r\n              src={item.image}\r\n              alt=\"link image\"\r\n              className={styleCSS.linksImage}\r\n            />\r\n            <div className={styleCSS.linksName}>\r\n              <p className={styleCSS.linkstitle}>{item.title}</p>\r\n              <p className={styleCSS.linksurl}>\r\n                localhost:3000/{item.uniqueLink}\r\n              </p>\r\n            </div>\r\n            <div className={styleCSS.linksVisit}>\r\n              <p className={styleCSS.titleVisitCount}>{item.visitTime}</p>\r\n              <p className={styleCSS.titleVisit}>Visit</p>\r\n            </div>\r\n            <div className={styleCSS.operationButton}>\r\n              <img\r\n                src={View}\r\n                alt=\"View\"\r\n                onClick={() => openLink(item.uniqueLink)}\r\n              />\r\n              <img src={Edit} alt=\"Edit\" />\r\n              <img\r\n                src={Delete}\r\n                alt=\"Delete\"\r\n                onClick={() => handleDelete(item.uniqueLink)}\r\n              />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <DeleteData\r\n        setConfirmDelete={setConfirmDelete}\r\n        show={show}\r\n        handleClose={handleClose}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserLinksContentPage;\r\n"]},"metadata":{},"sourceType":"module"}